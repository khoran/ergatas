<?DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ergatas</title>

    <!--  
     <script type='text/javascript' src="http://localhost:9000/ergatas.js"></script>     
    -->                                     
    <script type='text/javascript' src="dist/ergatas.js"></script>                                                
    <script src="/js/postgrest-client.js" type="text/javascript"></script> 
    <script src="/js/knockout.mapping-2.4.1.js" type="text/javascript"></script> 
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyDOgV_i94uqhAIjyQmtkzerk2CZCrTa-Ec"></script>


    <!-- AlertifyJS-->                                                                                                     
    <script type='text/javascript' src="/alertify/alertify.min.js"></script>                                                
    <link rel="stylesheet" href="/alertify/css//alertify.min.css" />                                                        
    <link rel="stylesheet" href="/alertify/css/themes/default.min.css" />      

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-170138468-1"></script>
    <script>

      var app;
      jQuery(document).ready(function() {app= new ergatas.default.Client(); });


      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-170138468-1');
    </script>

  </head>

<body>


 
  <nav class="navbar navbar-light bg-light navbar-expand-md">
    <!-- Brand and toggle get grouped for better mobile display -->
    <button type="button" class="navbar-toggler collapsed" data-toggle="collapse"
    data-target="#ergatas-navbar" aria-expanded="false"> <span class="sr-only">Toggle navigation</span>
&#x2630;</button> <a class="navbar-brand"
    data-bind="click: navigateFn('')">Ergatas</a>
    <div class="collapse navbar-collapse"
    id="ergatas-navbar">
        <ul class="nav navbar-nav">
            <li class="nav-item"><a data-bind="click: navigateFn('search')" class="nav-link">Search</a>
            </li>
            <li class="nav-item"><a data-bind="click: navigateFn('about')" class="nav-link">About</a>
            </li>
        </ul>
        <div class="form-inline ">
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Search" data-bind="value:query, event:{keyup:handleSearch}">
              <button class="btn btn-outline-primary" type="button" data-bind="click: handleSearch"><i class="oi oi-magnifying-glass"></i></button>
            </div>
        </div>
        <ul class="nav navbar-nav ml-auto">
            <li data-bind="visible: ! $root.loggedIn() " class="nav-item"><a data-bind="click: navigateFn('signIn')" class="nav-link">Sign In / Sign Up</a>
            </li>
            <li data-bind="visible: $root.loggedIn " class="nav-item"><a data-bind="click: $root.signOut" class="nav-link">Sign Out</a>
            </li>
            <li class="nav-item"><a data-bind="visible: $root.loggedIn() && ! $root.hasProfile(), click: navigateFn('profile')" class="nav-link">Create Profile</a>
            </li>
            <li class="nav-item"><a data-bind="visible: $root.loggedIn() && $root.hasProfile(), click: navigateFn('profile')" class="nav-link">Edit Profile</a>
            </li>
            <li data-bind="visible: $root.loggedIn " class="nav-item">
                <p class="navbar-text"><span data-bind="text: loggedInUser() && loggedInUser().email"></span>
                </p>
            </li>
        </ul>
    </div>
</nav>


<div data-bind="with:page"><!-- need this layer here to force reloading template when pageNodes changes -->
  <div data-bind="template: {nodes: $data,data: $root}"></div>
</div>

          <!--
<div data-bind="template: currentPage "></div>

	<div class="container-fluid">
			<div class="row">
        <div class="col-lg-12">
        </div>
      </div>
    </div>
	</div>-->


</body>
</html>
