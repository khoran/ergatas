<section class="section-title">
    <div class="container ">
        <div class="row ">
            <div class="col-lg-12">
                <h2>Organization Application</h2>
            </div>
        </div>
    </div>
</section>
<div class="container">
    <div class="row">
        <div class="col-lg-10 offset-lg-1">
            <p>
            Before an organization can be selected by a missionary, it must be approved to ensure
            it agrees with our <a href="/sof" data-bind="click: navigateFn('/sof')">statement of faith</a>.
            <p>
            Please select your organization from the list of non-profits below. Note that this list
            searches using the name an organization originally registered as. Sometimes this can be different
            then the commonly known name of the organization. 
            <p>
            Enter the primary website
            and describe the main objective of the organization.

            <p>
            Once you submit the application, we will review it and get back to you within a week. 
        </div>
    </div>
    <div class="row" data-bind="visible: orgApplicationStatus() !== ''">
        <div class="col-lg-10 offset-lg-1 mb-5 profile-form">
            <span data-bind="if: orgApplicationStatus() === 'denied' ">
                Sorry, this organization has been previously reviewed, but was not approved.
                If you would like to appeal this decision, feel free to <a href="/contact" data-bind="click: navigateFn('/contact')">
                contact us</a>.
            </span>
            <span data-bind="if: orgApplicationStatus() === 'pending' ">
                This organization has already been submitted and is pending review.
                You will be notified by email when a decision has been made, and you can continue creating your profile 
                at that time.
            </span>
            <span data-bind="if: orgApplicationStatus() === 'submitted' ">
                <div class="h4">Application submitted! </div>
                We will send you an email when a decision has been made and you can continue creating your profile at that time.
            </span>
        </div>
    </div>
    <div class="row" data-bind="visible: orgApplicationStatus() === '' ">
        <form class="col-lg-10 offset-lg-1 mb-5 profile-form" data-bind="submit: $root.submitOrgApplication, using: organizationApplication()">
        
        <div class="form-group contains-validation-message ">
            <label for="organization">Organization Name</label>
            <select required  id="organization" class="form-control"  data-bind="selectize: name,
            selectizeOptions: $root.nonProfitSelectizeOptions">
            </select> 
        </div>
        <div class="my-3" data-bind="if:$data, visible: name">
            <span data-bind="text: city"></span>, <span data-bind="text: state"></span>.  
            <!-- EIN for now as we assume the country is USA -->
            <b>EIN</b> <span data-bind="text: country_org_id"></span>  </br>
        </div>

        <div class='form-group '>
            <label >Logo</label>
             <div data-bind="visible: $data &&  logo_url" style="display:none" class="mb-1">
                <img height="60" alt="organization logo" data-bind="attr:{src: $root.orgLogoUrl($data && $data.logo_url())}"/>
                <br>
            </div>
            <button type="button" class="btn btn-info" data-bind="click: $root.browseForLogo">Browse</button>
        </div>

        <div class='form-group contains-validation-message'>
            <label for="website">Website</label>
            Enter the full URL, including either 'http://' or 'https://'.
            <input class='form-control' type="url" required id="website" name="website" data-bind="value: website,validation  "/>
        </div>
        <div class='form-group '>
            <label for="dba_name">'Doing Business As' Name</label>
            If your organization operates under a different name than they originally registered as (the name shown above), 
            you can enter that name here.
            <input class='form-control' id="dba_name" name="dba_name" data-bind="value: dba_name"/>
        </div>
        <div class='form-group contains-validation-message'>
            <label for="org_description">Description</label>
            <textarea class='form-control' required id="org_description" name="org_description" data-bind="value: $data && description,validation">
            </textarea>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
        <button type="button" class="btn btn-outline-dark" data-bind="click: $root.navigateFn('/profile')">Back to Profile</button>

        </form>
    </div>
</div>
